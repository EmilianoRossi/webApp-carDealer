
<body style="position:relative; height: 100%; background: white  no-repeat ; background-size:cover; box-shadow:inset 0 -1px 5px rgba(0,0,0,0.6);">
    
    <div class="container">
            <div class="row align-items-center">
       
                <div class="col-12">
                
                        <h1>Dettagli auto</h1>

                    </div>
                </div>
            <div>

            </div>
    
        <div class="row">

            <div id="car-wait" class="row js_wait_car text-center">
                
            </div>
            <div id="no-car-div" class="row js_no_car text-center d-none">
                <div class="col-12">
                    <h3>Non è presente alcuna auto</h3>
                </div>
            </div>
            <div id="car-div" class="row js_car_cards">
                <!-- qui verranno mostrati gli elementi -->
            </div>

        </div>
    

                

    </div>

@section Scripts {

    <script type="text/javascript">

        detailsUser();
       
        function detailsUser(){
            var url = window.location.pathname;
            var id = url.substring(url.lastIndexOf('/') + 1);
            parseInt(id);
            
            axios.get('/api/CarApi/DetailsUser/' + id).then((result) => {
                // Codice che verrà eseguito quando arrivano i dati dalla mia web api

                    
                        document.getElementById('car-div').innerHTML += 
                            `
                            <div class="row text-center mt-5 justify-content-center">
                            
                                <div class ="col-5 d-inline-block">
                                
                                    <img src="${result.data.image}" class="card-img-top" alt="primaFoto">
                                    
                                        <h6 class="card-title text-uppercase bg-danger pb-2 pt-2 text-white ">Auto: ${result.data.brandCar} ${result.data.modelCar}</h6>
                                        
                                        <h6 class="card-text text-black ps-2 pe-2 mb-4 mt-3"><small>Descrizione: ${result.data.description}</small></h6>
                                        <h6 class="card-text text-black ps-2 pe-2 mb-4 mt-3"><small>Chilometri: ${result.data.kilometers}</small></h6>
                                        
                                    
                                    
                                        <h5 class="card-text text-black ps-2 pe-2 mb-4 mt-3"><small>Prezzo: ${result.data.price}€</small></h5>
                                        <div class="card-footer p-0 pb-0 bg-danger">
                                            <a href="https://localhost:7202/User/UserBuy/${result.data.id}">Acquista!</a>
                                        </div>
                                </div>
                                </div>
                                
                            </div>

                            </div>

                            `
                            
console.log(result.data.image)
            }).catch((error) => {
                console.log("C'è stato un errore: " + error);
            })
        }
        
    </script>

}
  
</body>
